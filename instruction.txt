# HÆ°á»›ng Dáº«n XÃ¢y Dá»±ng Há»‡ Thá»‘ng Kiá»ƒm Tra Kiáº¿n Thá»©c

## 1. Giá»›i Thiá»‡u
Dá»± Ã¡n nÃ y xÃ¢y dá»±ng má»™t há»‡ thá»‘ng kiá»ƒm tra kiáº¿n thá»©c vá»›i **FastAPI** (Backend) vÃ  **Streamlit** (Frontend). Há»‡ thá»‘ng há»— trá»£ ba loáº¡i cÃ¢u há»i:
- **Äiá»n vÃ o chá»— trá»‘ng** (Fill-in-the-blank)
- **Tráº¯c nghiá»‡m** (Multiple Choice)
- **Sáº¯p xáº¿p cÃ¢u** (Sentence Rearrangement)

Há»‡ thá»‘ng cÃ³ thá»ƒ lÆ°u trá»¯ dá»¯ liá»‡u cÃ¢u há»i trong danh sÃ¡ch Python hoáº·c má»Ÿ rá»™ng vá»›i **SQLite/PostgreSQL**. NgoÃ i ra, cÃ³ thá»ƒ tÃ­ch há»£p **OpenAI LLM** Ä‘á»ƒ táº¡o lá»i giáº£i thÃ­ch cho cÃ¢u há»i.

---

## 2. CÃ´ng Nghá»‡ Sá»­ Dá»¥ng
- **Backend**: FastAPI
- **Frontend**: Streamlit
- **CÆ¡ sá»Ÿ dá»¯ liá»‡u**: Danh sÃ¡ch Python (hoáº·c SQLite/PostgreSQL)
- **Machine Learning**: OpenAI LLM (tÃ¹y chá»n)

---

## 3. Cáº¥u TrÃºc Dá»± Ãn
```
knowledge-test/
â”‚â”€â”€ backend/              # FastAPI Backend
â”‚   â”œâ”€â”€ main.py           # Entry point cho FastAPI
â”‚   â”œâ”€â”€ database.py       # LÆ°u trá»¯ dá»¯ liá»‡u cÃ¢u há»i
â”‚   â”œâ”€â”€ models.py         # Äá»‹nh nghÄ©a schema dá»¯ liá»‡u
â”‚   â”œâ”€â”€ services.py       # Xá»­ lÃ½ logic kiá»ƒm tra Ä‘Ã¡p Ã¡n
â”‚   â”œâ”€â”€ openai_helper.py  # TÃ­ch há»£p OpenAI LLM
â”‚   â”œâ”€â”€ requirements.txt  # ThÆ° viá»‡n backend
â”‚
â”‚â”€â”€ frontend/             # Streamlit Frontend
â”‚   â”œâ”€â”€ app.py            # Cháº¡y giao diá»‡n Streamlit
â”‚   â”œâ”€â”€ requirements.txt  # ThÆ° viá»‡n frontend
â”‚
â”‚â”€â”€ README.md             # HÆ°á»›ng dáº«n sá»­ dá»¥ng
â”‚â”€â”€ .gitignore            # Bá» qua file khÃ´ng cáº§n thiáº¿t
```

---

## 4. Chá»©c NÄƒng ChÃ­nh

### 4.1. **Backend (FastAPI)**

#### ğŸ”¹ API Láº¥y CÃ¢u Há»i (`/get-question`)
- Tráº£ vá» má»™t cÃ¢u há»i ngáº«u nhiÃªn tá»« danh sÃ¡ch dá»¯ liá»‡u.
- Dá»¯ liá»‡u cÃ¢u há»i gá»“m: `id`, `type`, `question`, `options` (náº¿u cÃ³), `answer`, `explanation`.
- Lá»i giáº£i thÃ­ch cÃ³ thá»ƒ tá»± thÃªm hoáº·c sá»­ dá»¥ng OpenAI Ä‘á»ƒ sinh ra.

#### ğŸ”¹ API Kiá»ƒm Tra ÄÃ¡p Ãn (`/check-answer`)
- Nháº­n Ä‘áº§u vÃ o tá»« ngÆ°á»i dÃ¹ng dÆ°á»›i dáº¡ng JSON:
```json
{
  "question_type": "string",
  "question_id": number,
  "answer": "string hoáº·c array tÃ¹y dáº¡ng cÃ¢u há»i"
}
```
- Tráº£ vá» káº¿t quáº£ Ä‘Ãºng/sai kÃ¨m lá»i giáº£i thÃ­ch.
- So sÃ¡nh cÃ¢u tráº£ lá»i báº±ng thuáº­t toÃ¡n phÃ¹ há»£p.

#### ğŸ”¹ API Táº¡o BÃ i Thi (`/generate-exam`)
- Sinh má»™t bÃ i kiá»ƒm tra vá»›i sá»‘ lÆ°á»£ng cÃ¢u há»i tÃ¹y chá»‰nh.
- Tráº£ vá» danh sÃ¡ch cÃ¡c cÃ¢u há»i Ä‘á»ƒ ngÆ°á»i dÃ¹ng lÃ m bÃ i.

#### ğŸ”¹ TÃ­ch Há»£p OpenAI LLM
- Sinh lá»i giáº£i thÃ­ch tá»± Ä‘á»™ng náº¿u khÃ´ng cÃ³ sáºµn.

---

### 4.2. **Frontend (Streamlit)**
- Giao diá»‡n hiá»ƒn thá»‹ cÃ¢u há»i, nháº­n cÃ¢u tráº£ lá»i tá»« ngÆ°á»i dÃ¹ng.
- Gá»­i yÃªu cáº§u API Ä‘áº¿n backend Ä‘á»ƒ láº¥y dá»¯ liá»‡u vÃ  kiá»ƒm tra káº¿t quáº£.
- Hiá»ƒn thá»‹ káº¿t quáº£ kiá»ƒm tra vÃ  lá»i giáº£i thÃ­ch.
- CÃ³ thá»ƒ hiá»ƒn thá»‹ lá»‹ch sá»­ bÃ i thi vÃ  thá»‘ng kÃª tá»‰ lá»‡ Ä‘Ãºng/sai.

---

## 5. CÃ i Äáº·t & Cháº¡y Dá»± Ãn

### 5.1. **Cháº¡y Backend**
```bash
cd backend
pip install -r requirements.txt
uvicorn main:app --reload
```

### 5.2. **Cháº¡y Frontend**
```bash
cd frontend
yarn
yarn dev
```

---

## 6. YÃªu Cáº§u Triá»ƒn Khai
- Code rÃµ rÃ ng, dá»… báº£o trÃ¬, chia module há»£p lÃ½.
- Hiá»‡u suáº¥t tá»‘t, pháº£n há»“i nhanh.
- CÃ³ thá»ƒ má»Ÿ rá»™ng há»— trá»£ nhiá»u ngÆ°á»i dÃ¹ng vÃ  lÆ°u lá»‹ch sá»­ bÃ i kiá»ƒm tra.

---

## 7. TÃ­nh NÄƒng Bá»• Sung (TÃ¹y Chá»n)
- Há»— trá»£ nhiá»u ngÆ°á»i dÃ¹ng vá»›i lá»‹ch sá»­ bÃ i thi.
- Thá»‘ng kÃª sá»‘ láº§n lÃ m bÃ i vÃ  tá»‰ lá»‡ Ä‘Ãºng/sai.
- TÃ­ch há»£p nháº­n diá»‡n giá»ng nÃ³i Ä‘á»ƒ nháº­p cÃ¢u tráº£ lá»i.

---